
# CPU (Central Process Unit)
명령어를 읽고, 해석하고, 연산하고, 실행하는 장치 

## 구성요소

**Register**
- 데이터를 임시적으로 저장하는 공간
- PC (Program Counter), 명령어 레지스터, 메모리 주소 레지스터, 메모리 버퍼 레지스터, 플래그 레지스터 처럼 특수한 상황에서 쓰는 레지스터가 있고 일반적인 상황에서 쓸 수 있는 범용 레지스터가 존재

**Controller**
- 명령어를 해석하고 제어 신호를 생성하는 장치
- 클럭 (Clock, 컴퓨터 부품이 움직일 수 있는 시간 단위) 마다 명령어와 플래그 레지스터의 값, 외부에서 온 제어신호까지 고려해서 제어신호를 생성
- 생성된 제어 신호는 CPU 내부 뿐만 아니라 제어 버스를 통해 CPU 외부로도 이동

**ALU**
- Arithmetic Logic Unit의 줄임말로 산술연산과 논리연산을 진행
- 다음과 같이 두 피연산자와 제어신호 (+ 계산인지, & 연산인지 등등)를 통해 계산하고 플래그값(오버플로우가 됐는지 caryy가 발생했는지 등등)과 결과값을 레지스터에 저장
<img src = "https://github.com/user-attachments/assets/b8a68a62-bb0e-4f7a-842d-156d65a0061c" width = "500">

## 명령어 사이클
- CPU는 하나의 명령어를 정형화된 흐름을 통해 처리함
- 인출 사이클 (fetch cycle)
  - 메모리에서 명령어를 가져와서 레지스터에 저장하는 단계
- 실행사이클 (execution cycle)
  - 가져온 명령어를 읽고 해석하여 실행하는 단계
- 간접사이클 (indirect cycle)
  - 명령어의 오퍼랜드 (operand)가 데이터를 가지고 있는 주소를 가리키는 주소값을 가지고 있을 때 메모리 접근을 두번 해야함
- 인터럽트
  - 인출 사이클이 다시 실행되기 전에 인터럽트가 발생했는 지 확인하고 인터럽트가 있으면 인터럽트 서비스 루틴을 실행한 후 다시 돌아와서 작업을 재개한다


## CPU 성능 향상법
모든 컴퓨터 부품은 클럭 단위로 움직인다.
클럭 속도가 빨라지면 명령어 처리 속도가 높아져 CPU 성능이 좋아진다.
하지만, 너무 빨라지면 발열 문제가 발생해 한계가 있다.

### 멀티 코어와 멀티 스레드
제어장치, 레지스터, ALU 하나의 단위를 '코어'로 묶어서 멀티 코어 CPU를 사용
한 번에 처리할 수 있는 명령어는 많아지지만 코어마다 연산을 적절히 잘 분배해야 성능 향상을 기대할 수 있다.
ex. 조별인원이 늘어난다고 한 번에 처리할 수 있는 양이 많아지진 않음

멀티 스레드는 하나의 코어가 동시에 처리하는 명령어 단위로 소프트웨어 단위의 스레드와는 달리 '하드웨어 스레드'라고도 부른다.

### 파이프라이닝
하나의 명령어가 실행되는 단계를 더 세분화하면
1. 명령어 인출
2. 명령어 해석
3. 명령어 실행
4. 결과 저장
   으로 나눌 수 있다.


### 캐시 메모리





### CISC, RISC
